@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<Upendo.Modules.UpendoUserManaged.ViewModels.UserViewModel>

@using System.Collections.Generic
@using DotNetNuke.Web.Mvc.Helpers

<div id="Item-@Dnn.ModuleContext.ModuleId">
    <div class="dnnForm dnnEditBasicSettings" id="dnnEditBasicSettings">
        <div class="dnnFormExpandContent dnnRight "><a href="#">@Dnn.LocalizeString("ExpandAll")</a></div>

        <h2 id="dnnSitePanel-BasicSettings" class="dnnFormSectionHead dnnClear">
            <a href="#" class="dnnSectionExpanded">@Dnn.LocalizeString("BasicSettings")</a>
        </h2>
        <fieldset>
            <div class="formItem col-6">
                <div><label>New Password</label></div>
                @Html.TextBoxFor(m => m.Password, new { @id = "password", @type = "password" })
            </div>
            <div class="formItem col-6">
                <div><label>Confirm Password</label></div>
                @Html.TextBoxFor(m => m.ConfirmPassword, new
                {
                    @id = "confirm_password",
                    @type = "password",
                @onkeyup = "validatePassword();"
                })
            </div>
            @* <div class="formItem col-6">
                <div><label>Confirm Password</label></div>
                <input type="password" name="confirm_password" id="confirm_password" onkeyup='validatePassword();' />
                <span id='message'></span>
                </div> *@
            @* <div class="dnnFormItem">
                <div><label>New Password</label></div>
                @Html.TextBox("newPassword")
                </div>
                <div class="dnnFormItem">
                <div><label>New Password</label></div>
                @Html.TextBox("confrimPassword")
                </div> *@

            @Html.HiddenFor(m => m.UserId)
        </fieldset>
    </div>
    <button type="submit" class="dnnPrimaryAction">Save</button>
    <a id="cancelEdit" href="#" class="dnnSecondaryAction">@Dnn.LocalizeString("Cancel")</a>
</div>

<script type="text/javascript">
    function validatePassword() {
        var password = document.getElementById('password').value;
        var confirm_password = document.getElementById('confirm_password').value;
        var message = document.getElementById('message');

        if (password == confirm_password) {
            message.style.color = 'green';
            message.innerHTML = '';
        } else {
            message.style.color = 'red';
            message.innerHTML = 'Not Matching';
        }
    }
    /*globals jQuery, window, Sys */
    (function ($, Sys) {
        function dnnEditBasicSettings() {
            $('#dnnEditBasicSettings').dnnPanels();
            $('#dnnEditBasicSettings .dnnFormExpandContent a').dnnExpandAll({
                expandText: '@Dnn.LocalizeString("ExpandAll")',
                collapseText: '@Dnn.LocalizeString("CollapseAll")',
                targetArea: '#dnnEditBasicSettings'
            });
        }

        $(function () {
            $('#cancelEdit').click(function () { dnnModal.closePopUp(false); });
            dnnEditBasicSettings();
            Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function () {
                dnnEditBasicSettings();
            });
        });
    }(jQuery, window.Sys));
</script>
